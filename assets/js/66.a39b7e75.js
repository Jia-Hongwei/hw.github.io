(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{383:function(t,s,e){"use strict";e.r(s);var a=e(7),i=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_1-安装和配置mosquitto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装和配置mosquitto"}},[t._v("#")]),t._v(" 1. 安装和配置Mosquitto")]),t._v(" "),s("h3",{attrs:{id:"_1-1-首先下载mosquitto软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-首先下载mosquitto软件"}},[t._v("#")]),t._v(" 1.1 首先下载Mosquitto软件")]),t._v(" "),s("p",[t._v("从"),s("a",{attrs:{href:"https://mosquitto.org/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Download | Eclipse Mosquitto"),s("OutboundLink")],1),t._v(" 下载Mosquitto并安装到本地目录。")]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"400px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.es8ovrkya.webp"}})]),s("h3",{attrs:{id:"_1-2-安装mosquitto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-安装mosquitto"}},[t._v("#")]),t._v(" 1.2 安装Mosquitto")]),t._v(" "),s("blockquote",[s("p",[t._v("逐步点击下一步，记住安装位置，因为后续要配置账号密码、运行端口号等信息")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"400px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.wiadgw8fu.webp"}})]),s("h3",{attrs:{id:"_1-3-配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-配置文件"}},[t._v("#")]),t._v(" 1.3 配置文件")]),t._v(" "),s("blockquote",[s("p",[t._v("安装完成后，打开Mosquitto安装目录")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"400px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.5tqr7bb72x.webp"}})]),s("blockquote",[s("p",[t._v("配置mosquitto运行的端口号和ip地址/主机号，这里我们选择本地主机的1883端口")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.39kwuocwqs.webp"}})]),s("blockquote",[s("p",[t._v("匿名访问,如果想要允许匿名登录，则修改为allow_anonymous true；否则就设置为false。")]),t._v(" "),s("p",[t._v("allow_anonymous false")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.1aoq4c9gqa.webp"}})]),s("blockquote",[s("p",[t._v("配置账号密码存储文件")])]),t._v(" "),s("blockquote",[s("p",[t._v("将其修改为安装目录中的 password_file pwfile.example")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.5fkbgg7lld.webp"}})]),s("h3",{attrs:{id:"_1-4-创建用户名和密码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-创建用户名和密码"}},[t._v("#")]),t._v(" 1.4 创建用户名和密码")]),t._v(" "),s("blockquote",[s("p",[t._v("在安装路径下，运行终端，输入下列指令：")])]),t._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("./mosquitto_passwd -c pwfile.example admin\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("该指令是指添加一个叫admin的账户，会提示连续两次输入密码，完成后，即表示账户创建成功。此时打开pwfile.example文件，可以看到admin已经添加进去了。")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.4jnu0zzh31.webp"}})]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("如果还想追加一个用户，可以继续执行该指令，但是要注意的是，要把-c去掉，如果仍然使用-c，会把第一个创建的用户覆盖掉。")])]),t._v(" "),s("h3",{attrs:{id:"_1-5-运行mosquitto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-运行mosquitto"}},[t._v("#")]),t._v(" 1.5 运行mosquitto")]),t._v(" "),s("div",{staticClass:"language-text line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("配置完成后，就可以启动了，重新打开一个终端，通过.\\mosquitto.exe程序配合相关指令参数实现。\n其中常用的几个指令参数如下：\n-c 加载指定的配置文件，即mosquitto.conf\n-d 将服务放在后台执行\n-p 监听指定端口的代理，并且不建议与-c选项一起使用\n-v 启用详细日志模式\n我们使用指令\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("mosquitto "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-c")]),t._v(" ."),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("mosquitto.conf "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("blockquote",[s("p",[t._v("表示以mosquitto.conf作为配置文件运行，同时开启详细日志模式")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.4n7fypucxj.webp"}})]),s("h2",{attrs:{id:"_2-安装和配置mqttx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装和配置mqttx"}},[t._v("#")]),t._v(" 2. 安装和配置MQTTX")]),t._v(" "),s("h3",{attrs:{id:"_2-1-下载mqttx并安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-下载mqttx并安装"}},[t._v("#")]),t._v(" 2.1 下载MQTTX并安装")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://mqttx.app/zh/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("MQTTX 下载"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.1lbjxhumgd.webp"}})]),s("h3",{attrs:{id:"_2-2-连接mqtt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-连接mqtt"}},[t._v("#")]),t._v(" 2.2 连接MQTT")]),t._v(" "),s("blockquote",[s("p",[t._v("打开MQTTX，点击connections后面的+号，输入连接名、主机地址、端口号、账号密码等信息。")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.4ckm5kk4vg.webp"}})]),s("blockquote",[s("p",[t._v("点击连接后，新建一个要订阅/发布的主题，在Topic里面填写")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.6f0etmjl9r.webp"}})]),s("blockquote",[s("p",[t._v("这里我们输入主题名后，点击确认，进入收发消息的界面")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.b8mr6hsyl.webp"}})]),s("blockquote",[s("p",[t._v("将Topic输入我们之前创建的那个，然后更改msg内容，就可以在聊天窗口看到收发的消息")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.7w6jvdpcjq.webp"}})]),s("blockquote",[s("p",[t._v("此时查看mosquito运行的终端，也能看到收发消息的记录")])]),t._v(" "),s("div",{staticClass:"center-container"},[s("img",{attrs:{height:"300px",src:"https://cdn.jsdelivr.net/gh/Jia-Hongwei/picx-images-hosting@master/20240223/image.b8mr6j1hm.webp"}})])])}),[],!1,null,null,null);s.default=i.exports}}]);