(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{391:function(s,t,a){"use strict";a.r(t);var e=a(7),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("这儿必须注意一下：\n待扩容的虚拟机必须删除所有的快照记录，否则在 虚拟机设置–>硬盘 界面中的扩展这个按钮是灰色的。无法操作。\n同时，当鼠标放上去之后，显示 “无法扩展具有快照的虚拟机中的磁盘。您必须删除快照或使用VMware cVenter Converter”")])]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/1695610249445.3i37gndl4zm0.webp"}}),s._v(" "),t("h3",{attrs:{id:"具体扩容步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#具体扩容步骤"}},[s._v("#")]),s._v(" 具体扩容步骤")]),s._v(" "),t("h4",{attrs:{id:"_1、扩展硬盘空间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、扩展硬盘空间"}},[s._v("#")]),s._v(" 1、扩展硬盘空间")]),s._v(" "),t("blockquote",[t("p",[s._v("打开 VMware ，关闭虚拟机，菜单 虚拟机设置–>设置，选择硬盘，点击扩展，填写扩展磁盘大小，确认。")])]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.1dj76yi5q280.webp"}}),s._v(" "),t("h4",{attrs:{id:"_2、启动虚拟机-使用命令-df-h-查看磁盘空间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、启动虚拟机-使用命令-df-h-查看磁盘空间"}},[s._v("#")]),s._v(" 2、启动虚拟机，使用命令 df -h 查看磁盘空间")]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.2e365ww99jk0.webp"}}),s._v(" "),t("h4",{attrs:{id:"_3、使用命令-fdisk-l-查看新磁盘的分区信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、使用命令-fdisk-l-查看新磁盘的分区信息"}},[s._v("#")]),s._v(" 3、使用命令 fdisk -l 查看新磁盘的分区信息")]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.5rd9foq47tk0.webp"}}),s._v(" "),t("h4",{attrs:{id:"_4、使用命令-fdisk-dev-sda-对新加的磁盘进行分区操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、使用命令-fdisk-dev-sda-对新加的磁盘进行分区操作"}},[s._v("#")]),s._v(" 4、使用命令 fdisk /dev/sda 对新加的磁盘进行分区操作")]),s._v(" "),t("blockquote",[t("p",[s._v("输入 p 之后回车，查看已分区的数量：可知目前有两个分区 sda1 和 sda2")])]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.upo30wchx1s.webp"}}),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("在命令行根据提示信息，依次输入下面的命令：\n\n输入命令 n 回车，新增一个分区\n\n输入命令 p 回车，在打开的分区号命中中使用默认的分区号并回车（此处是3）\n\n在显示的起始扇区 first sector 直接回车，在 last sector 直接回车\n\n输入命令 p 回车，查看当前分区的信息：可以看到多了一个 /dev/sda3 的新分区\n\n输入命令 w 回车，写入磁盘信息并保存\n\n具体返回的信息如下图所示：\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.47z6353wk0m0.webp"}}),s._v(" "),t("h4",{attrs:{id:"_5、输入-reboot-回车-重启虚拟机格式化新建分区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、输入-reboot-回车-重启虚拟机格式化新建分区"}},[s._v("#")]),s._v(" 5、输入 reboot 回车，重启虚拟机格式化新建分区")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("新建分区 /dev/sda3 之后，应该重启系统，要不然会报错 /dev/sda3：No such fie or directory")])]),s._v(" "),t("h4",{attrs:{id:"_6、重启后-输入命令-vgdisplay-查看磁盘卷组名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6、重启后-输入命令-vgdisplay-查看磁盘卷组名"}},[s._v("#")]),s._v(" 6、重启后，输入命令 vgdisplay，查看磁盘卷组名")]),s._v(" "),t("blockquote",[t("p",[s._v("如图为 centos")])]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.19hh14d7pvls.webp"}}),s._v(" "),t("h4",{attrs:{id:"_7、输入-pvcreate-dev-sda3-回车-初始化刚建立的分区"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7、输入-pvcreate-dev-sda3-回车-初始化刚建立的分区"}},[s._v("#")]),s._v(" 7、输入 pvcreate /dev/sda3 回车，初始化刚建立的分区")]),s._v(" "),t("div",{staticClass:"language-text line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("输入 vgextend centos /dev/sda3 回车，把刚初始化的分区加入到虚拟卷组名中\n\n（命令：vgextend 虚拟卷组名 新增的分区 ）\n\n输入 vgdisplay 回车，查看卷组的详细信息，可以看到刚增加的20G空间处于空闲状态\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.66brf7vr8ts0.webp"}}),s._v(" "),t("h4",{attrs:{id:"_8、-输入命令-df-h-回车-查看需要扩展的文件系统名-此处是-dev-mapper-centos-root"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_8、-输入命令-df-h-回车-查看需要扩展的文件系统名-此处是-dev-mapper-centos-root"}},[s._v("#")]),s._v(" 8、 输入命令 df -h 回车，查看需要扩展的文件系统名，此处是 /dev/mapper/centos-root")]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.3xb272id0q40.webp"}}),s._v(" "),t("h4",{attrs:{id:"_9、-输入-lvextend-l-19g-dev-mapper-centos-root-回车-扩充已有的卷组容量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_9、-输入-lvextend-l-19g-dev-mapper-centos-root-回车-扩充已有的卷组容量"}},[s._v("#")]),s._v(" 9、 输入 lvextend -L +19G /dev/mapper/centos-root 回车，扩充已有的卷组容量")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("blockquote",[t("p",[s._v("lvextend -L +19G /dev/mapper/centos-root")]),s._v(" "),t("p",[s._v("如果扩容的是20G，这里的20G就不能全部扩展，只能扩展比20G小的容量，不然系统会报错导致扩容失败")]),s._v(" "),t("p",[s._v("命令：lvextend -L +需要扩展的容量大小 需要扩展的文件系统名，需要注意命令中区分字母的大小写")])])]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.5rtib89flvc0.webp"}}),s._v(" "),t("h4",{attrs:{id:"_10、输入-pvdisplay-回车-查看当前的卷组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_10、输入-pvdisplay-回车-查看当前的卷组"}},[s._v("#")]),s._v(" 10、输入 pvdisplay 回车，查看当前的卷组")]),s._v(" "),t("blockquote",[t("p",[s._v("在显示信息中可见卷组已经扩容成功。接下来还需要将文件系统也扩容。")])]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20231009/image.5hb40ig50q80.webp"}}),s._v(" "),t("h4",{attrs:{id:"_11、输入-cat-etc-fstab-grep-centos-root-回车-查看文件系统的格式-此处是-xfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_11、输入-cat-etc-fstab-grep-centos-root-回车-查看文件系统的格式-此处是-xfs"}},[s._v("#")]),s._v(" 11、输入 cat /etc/fstab |grep centos-root 回车，查看文件系统的格式，此处是 xfs")]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.7adrm53gi9g0.webp"}}),s._v(" "),t("h4",{attrs:{id:"_12、输入-xfs-growfs-dev-mapper-centos-root-回车"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_12、输入-xfs-growfs-dev-mapper-centos-root-回车"}},[s._v("#")]),s._v(" 12、输入 xfs_growfs /dev/mapper/centos-root 回车")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("命令：xfs_growfs 文件系统名，注意不同的文件系统要用不同的命令，否则会报错")])]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.vrksmhcsqzk.webp"}}),s._v(" "),t("h4",{attrs:{id:"_13、等待系统自动扩容完成后-输入-df-h-回车-查看磁盘大小是否扩容成功-在显示的磁盘信息中-可看到磁盘扩容成功了。"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_13、等待系统自动扩容完成后-输入-df-h-回车-查看磁盘大小是否扩容成功-在显示的磁盘信息中-可看到磁盘扩容成功了。"}},[s._v("#")]),s._v(" 13、等待系统自动扩容完成后，输入 df -h 回车，查看磁盘大小是否扩容成功，在显示的磁盘信息中，可看到磁盘扩容成功了。")]),s._v(" "),t("img",{attrs:{src:"https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/20230927/image.5noxcpynyy40.webp"}}),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("亲自操作实验，非常nice,感谢作者")]),s._v(" "),t("div",{staticClass:"custom-block right"},[t("p",[s._v("原文来自"),t("a",{attrs:{href:"https://blog.csdn.net/qq_45083975/article/details/126153086",target:"_blank",rel:"noopener noreferrer"}},[s._v("CSDN博主「x²＋(y－√³x²)²＝1」"),t("OutboundLink")],1)])])]),s._v(" "),t("p",[s._v(":::")])])}),[],!1,null,null,null);t.default=r.exports}}]);