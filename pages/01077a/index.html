<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>01-JVM介绍&amp;类加载机制 | JIAの编程知识库</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/lf.jpeg">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <meta name="description" content="java后端技术博客,专注web前端学习与总结。JavaScript,js,ES6,TypeScript,vue,React,python,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="后端博客,个人技术博客,后端,后端开发,后端框架,后端面试题,技术文档,学习,面试,设计模式,分布式,高并发,中间件,消息队列,数据库,docker,云原生,spring,springBoot,springCloud,es,vue,mysql,项目源码,软件安装,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/assets/css/0.styles.71af7109.css" as="style"><link rel="preload" href="/assets/js/app.4b498b51.js" as="script"><link rel="preload" href="/assets/js/2.2752654e.js" as="script"><link rel="preload" href="/assets/js/24.8d972b48.js" as="script"><link rel="prefetch" href="/assets/js/10.3c94351b.js"><link rel="prefetch" href="/assets/js/11.9ff36f08.js"><link rel="prefetch" href="/assets/js/12.33926f44.js"><link rel="prefetch" href="/assets/js/13.65ca478d.js"><link rel="prefetch" href="/assets/js/14.27f852b2.js"><link rel="prefetch" href="/assets/js/15.2f9cc01a.js"><link rel="prefetch" href="/assets/js/16.4432b969.js"><link rel="prefetch" href="/assets/js/17.6b0ecd72.js"><link rel="prefetch" href="/assets/js/18.f8f99011.js"><link rel="prefetch" href="/assets/js/19.e5e3cd4d.js"><link rel="prefetch" href="/assets/js/20.57a097b6.js"><link rel="prefetch" href="/assets/js/21.5a739246.js"><link rel="prefetch" href="/assets/js/22.88e6c7a3.js"><link rel="prefetch" href="/assets/js/23.6b10235e.js"><link rel="prefetch" href="/assets/js/25.7f61b65e.js"><link rel="prefetch" href="/assets/js/26.4a15d631.js"><link rel="prefetch" href="/assets/js/27.023c6987.js"><link rel="prefetch" href="/assets/js/28.45abd25f.js"><link rel="prefetch" href="/assets/js/29.3a930f84.js"><link rel="prefetch" href="/assets/js/3.b1023967.js"><link rel="prefetch" href="/assets/js/30.7c401659.js"><link rel="prefetch" href="/assets/js/31.bab5d77d.js"><link rel="prefetch" href="/assets/js/32.e57fdb4d.js"><link rel="prefetch" href="/assets/js/33.85594891.js"><link rel="prefetch" href="/assets/js/34.ae208956.js"><link rel="prefetch" href="/assets/js/35.241348e0.js"><link rel="prefetch" href="/assets/js/36.d3020016.js"><link rel="prefetch" href="/assets/js/37.0950368a.js"><link rel="prefetch" href="/assets/js/38.f165b338.js"><link rel="prefetch" href="/assets/js/39.d4689af8.js"><link rel="prefetch" href="/assets/js/4.842ae386.js"><link rel="prefetch" href="/assets/js/40.d7648139.js"><link rel="prefetch" href="/assets/js/41.46488a82.js"><link rel="prefetch" href="/assets/js/42.80a03a43.js"><link rel="prefetch" href="/assets/js/43.c855b505.js"><link rel="prefetch" href="/assets/js/44.065b78a8.js"><link rel="prefetch" href="/assets/js/45.adb8bcaa.js"><link rel="prefetch" href="/assets/js/46.642485e9.js"><link rel="prefetch" href="/assets/js/47.b1619e9d.js"><link rel="prefetch" href="/assets/js/48.6573955b.js"><link rel="prefetch" href="/assets/js/49.81ec6a56.js"><link rel="prefetch" href="/assets/js/5.a56b93fb.js"><link rel="prefetch" href="/assets/js/50.78841827.js"><link rel="prefetch" href="/assets/js/51.4a2b46a8.js"><link rel="prefetch" href="/assets/js/52.0b12337b.js"><link rel="prefetch" href="/assets/js/53.b0a99b5d.js"><link rel="prefetch" href="/assets/js/54.c54c3450.js"><link rel="prefetch" href="/assets/js/55.de6412a0.js"><link rel="prefetch" href="/assets/js/56.43457f58.js"><link rel="prefetch" href="/assets/js/57.a417d77c.js"><link rel="prefetch" href="/assets/js/58.4b647815.js"><link rel="prefetch" href="/assets/js/59.a472686a.js"><link rel="prefetch" href="/assets/js/6.77c4e613.js"><link rel="prefetch" href="/assets/js/60.d41d5474.js"><link rel="prefetch" href="/assets/js/61.ae8f7a45.js"><link rel="prefetch" href="/assets/js/62.3de5dcd0.js"><link rel="prefetch" href="/assets/js/63.d90deb3b.js"><link rel="prefetch" href="/assets/js/64.54d92d7b.js"><link rel="prefetch" href="/assets/js/65.31db6354.js"><link rel="prefetch" href="/assets/js/66.a39b7e75.js"><link rel="prefetch" href="/assets/js/67.4b9a32cf.js"><link rel="prefetch" href="/assets/js/68.8ab1d327.js"><link rel="prefetch" href="/assets/js/69.2f5e1484.js"><link rel="prefetch" href="/assets/js/7.90b33210.js"><link rel="prefetch" href="/assets/js/70.07b31f47.js"><link rel="prefetch" href="/assets/js/71.09e5d31a.js"><link rel="prefetch" href="/assets/js/72.32c4a6a9.js"><link rel="prefetch" href="/assets/js/73.2e81f465.js"><link rel="prefetch" href="/assets/js/74.d525aa8b.js"><link rel="prefetch" href="/assets/js/75.bbbc18d7.js"><link rel="prefetch" href="/assets/js/76.e7887120.js"><link rel="prefetch" href="/assets/js/77.8d932cad.js"><link rel="prefetch" href="/assets/js/78.1cee32c3.js"><link rel="prefetch" href="/assets/js/79.2982e247.js"><link rel="prefetch" href="/assets/js/8.69b7c0ec.js"><link rel="prefetch" href="/assets/js/80.43805a57.js"><link rel="prefetch" href="/assets/js/81.2fa23eb8.js"><link rel="prefetch" href="/assets/js/82.4a4942b7.js"><link rel="prefetch" href="/assets/js/83.3268c39f.js"><link rel="prefetch" href="/assets/js/84.55efa2cd.js"><link rel="prefetch" href="/assets/js/85.dc23716b.js"><link rel="prefetch" href="/assets/js/86.8bdd9272.js"><link rel="prefetch" href="/assets/js/87.39535dba.js"><link rel="prefetch" href="/assets/js/9.cf644b20.js">
    <link rel="stylesheet" href="/assets/css/0.styles.71af7109.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/lf.jpeg" alt="JIAの编程知识库" class="logo"> <span class="site-name can-hide">JIAの编程知识库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA技术栈" class="dropdown-title"><a href="/pages/162c8e/" class="link-title">JAVA技术栈</a> <span class="title" style="display:none;">JAVA技术栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/162c8e/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/57742c/" class="nav-link">数据结构</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">并发编程</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">JVM调优</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">Mysql与性能调优</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">Redis原理</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">RocketMQ原理</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">SpringCloudAlibaba</a></li><li class="dropdown-item"><!----> <a href="/pages/92db97/" class="nav-link">分布式组件</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">网络IO与Netty</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">架构设计案例</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码解析" class="dropdown-title"><a href="/pages/3eddac/" class="link-title">源码解析</a> <span class="title" style="display:none;">源码解析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3eddac/" class="nav-link">《源码阅读技巧》</a></li><li class="dropdown-item"><!----> <a href="/pages/3be4df/" class="nav-link">《集合API 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/b7abf5/" class="nav-link">《mybatis 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《spring 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《springMVC 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《springBoot 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《springSecurity 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《redis6.x 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《tomcat 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《rocketMQ 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《netty 源码》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/algorithm/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3eddac/" class="nav-link">《入门》</a></li><li class="dropdown-item"><!----> <a href="/pages/3be4df/" class="nav-link">《初级》</a></li><li class="dropdown-item"><!----> <a href="/pages/b7abf5/" class="nav-link">《高级》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/pages/7bdde3/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7bdde3/" class="nav-link">《架构基础》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《并发编程》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《jvm调优》</a></li><li class="dropdown-item"><!----> <a href="/pages/950da2/" class="nav-link">《mysql调优》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《缓存》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《mybatis》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《spring》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《消息队列》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《微服务》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《项目专题》</a></li></ul></div></div><div class="nav-item"><a href="/pages/adf46f/" class="nav-link">部署运维</a></div> <a href="https://github.com/Jia-Hongwei/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/lf.jpeg"> <div class="blogger-info"><h3>JIA</h3> <span>专注..</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA技术栈" class="dropdown-title"><a href="/pages/162c8e/" class="link-title">JAVA技术栈</a> <span class="title" style="display:none;">JAVA技术栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/162c8e/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/pages/57742c/" class="nav-link">数据结构</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">并发编程</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">JVM调优</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">Mysql与性能调优</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">Redis原理</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">RocketMQ原理</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">SpringCloudAlibaba</a></li><li class="dropdown-item"><!----> <a href="/pages/92db97/" class="nav-link">分布式组件</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">网络IO与Netty</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">架构设计案例</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码解析" class="dropdown-title"><a href="/pages/3eddac/" class="link-title">源码解析</a> <span class="title" style="display:none;">源码解析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3eddac/" class="nav-link">《源码阅读技巧》</a></li><li class="dropdown-item"><!----> <a href="/pages/3be4df/" class="nav-link">《集合API 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/b7abf5/" class="nav-link">《mybatis 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《spring 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《springMVC 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《springBoot 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《springSecurity 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《redis6.x 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《tomcat 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《rocketMQ 源码》</a></li><li class="dropdown-item"><!----> <a href="/pages/404/" class="nav-link">《netty 源码》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/algorithm/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/3eddac/" class="nav-link">《入门》</a></li><li class="dropdown-item"><!----> <a href="/pages/3be4df/" class="nav-link">《初级》</a></li><li class="dropdown-item"><!----> <a href="/pages/b7abf5/" class="nav-link">《高级》</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/pages/7bdde3/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/7bdde3/" class="nav-link">《架构基础》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《并发编程》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《jvm调优》</a></li><li class="dropdown-item"><!----> <a href="/pages/950da2/" class="nav-link">《mysql调优》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《缓存》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《mybatis》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《spring》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《消息队列》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《微服务》</a></li><li class="dropdown-item"><!----> <a href="/pages/01077a/" aria-current="page" class="nav-link router-link-exact-active router-link-active">《项目专题》</a></li></ul></div></div><div class="nav-item"><a href="/pages/adf46f/" class="nav-link">部署运维</a></div> <a href="https://github.com/Jia-Hongwei/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计模式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>并发编程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JVM调优</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/01077a/" aria-current="page" class="active sidebar-link">01-JVM介绍&amp;类加载机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/01077a/#_1-jvm是什么" class="sidebar-link">1. JVM是什么?</a></li><li class="sidebar-sub-header level2"><a href="/pages/01077a/#_2-源码到类文件" class="sidebar-link">2. 源码到类文件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/01077a/#_2-1-源码demo" class="sidebar-link">2.1 源码demo</a></li><li class="sidebar-sub-header level3"><a href="/pages/01077a/#_2-2-前期编译" class="sidebar-link">2.2 前期编译</a></li><li class="sidebar-sub-header level3"><a href="/pages/01077a/#_2-3-类文件-class文件" class="sidebar-link">2.3 类文件(Class文件)</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_2-3-1-16进制" class="sidebar-link">2.3.1 16进制</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_2-3-2-class文件结构" class="sidebar-link">2.3.2 class文件结构</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_2-3-3-simple-analysis" class="sidebar-link">2.3.3 Simple analysis</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_2-3-4-javap验证" class="sidebar-link">2.3.4 javap验证</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/01077a/#_3-类文件到虚拟机-类加载机制" class="sidebar-link">3. 类文件到虚拟机(类加载机制)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/01077a/#_3-1-装载-load" class="sidebar-link">3.1 装载(Load)</a></li><li class="sidebar-sub-header level3"><a href="/pages/01077a/#_3-2-链接-link" class="sidebar-link">3.2 链接(Link)</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_3-2-1-验证-verify" class="sidebar-link">3.2.1 验证(Verify)</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_3-2-2-准备-prepare" class="sidebar-link">3.2.2 准备(Prepare)</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_3-2-3-解析-resolve" class="sidebar-link">3.2.3 解析(Resolve)</a></li><li class="sidebar-sub-header level3"><a href="/pages/01077a/#_3-3-初始化-initialize" class="sidebar-link">3.3 初始化(Initialize)</a></li><li class="sidebar-sub-header level3"><a href="/pages/01077a/#_3-4-类加载器classloader" class="sidebar-link">3.4 类加载器ClassLoader</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_3-4-1-分类" class="sidebar-link">3.4.1 分类</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_3-4-2-图解" class="sidebar-link">3.4.2 图解</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_3-4-3-加载原则-双亲委派" class="sidebar-link">3.4.3 加载原则[双亲委派]</a></li><li class="sidebar-sub-header level4"><a href="/pages/01077a/#_3-4-4-破坏双亲委派" class="sidebar-link">3.4.4 破坏双亲委派</a></li></ul></li></ul></li><li><a href="/pages/61ff74/" class="sidebar-link">02-JVM内存模型</a></li><li><a href="/pages/5dfeff/" class="sidebar-link">03-垃圾回收算法</a></li><li><a href="/pages/f3d4d9/" class="sidebar-link">04-垃圾收集器</a></li><li><a href="/pages/f3d4d91/" class="sidebar-link">05-JVM调优</a></li><li><a href="/pages/f3d4d92/" class="sidebar-link">06-常见问题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mysql与性能调优</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RocketMQ原理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringCloudAlibaba</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> 分布式组件</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络IO与Netty</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>架构设计案例</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/java/#JAVA技术栈" data-v-06225672>JAVA技术栈</a></li><li data-v-06225672><a href="/java/#JVM调优" data-v-06225672>JVM调优</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/Jia-Hongwei" target="_blank" title="作者" class="beLink" data-v-06225672>jia</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2024-02-19</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><!---->01-JVM介绍&amp;类加载机制<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="_1-jvm是什么"><a href="#_1-jvm是什么" class="header-anchor">#</a> 1. JVM是什么?</h2> <blockquote><p>Java Virtual Machine(Java虚拟机)</p></blockquote> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.6vpltr140rk0.png"> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.63zrslq9dd80.webp"> <blockquote><p>(1)源码到类文件</p> <p>(2)类文件到JVM</p> <p>(3)JVM各种折腾[内部结构、执行方式、垃圾回收、本地调用等]</p></blockquote> <h2 id="_2-源码到类文件"><a href="#_2-源码到类文件" class="header-anchor">#</a> 2. 源码到类文件</h2> <h3 id="_2-1-源码demo"><a href="#_2-1-源码demo" class="header-anchor">#</a> 2.1 源码demo</h3> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token operator">=</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">double</span> salary<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">static</span> <span class="token class-name">String</span> hobby<span class="token operator">=</span><span class="token string">&quot;Programming&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> obj<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;person say...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token keyword">int</span> op1<span class="token punctuation">,</span><span class="token keyword">int</span> op2<span class="token punctuation">)</span><span class="token punctuation">{</span>
        op1<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> result<span class="token operator">=</span>op1<span class="token operator">+</span>op2<span class="token punctuation">;</span>
        <span class="token class-name">Object</span> obj<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><blockquote><p>编译: javac -g:vars Person.java ---&gt; Person.class</p></blockquote> <h3 id="_2-2-前期编译"><a href="#_2-2-前期编译" class="header-anchor">#</a> 2.2 前期编译</h3> <blockquote><p>Person.java -&gt; 词法分析器 -&gt; tokens流 -&gt; 语法分析器 -&gt; 语法树/抽象语法树
-&gt; 语义分析器 -&gt; 注解抽象语法树 -&gt; 字节码生成器 -&gt; Person.class文件</p></blockquote> <h3 id="_2-3-类文件-class文件"><a href="#_2-3-类文件-class文件" class="header-anchor">#</a> 2.3 类文件(Class文件)</h3> <h4 id="_2-3-1-16进制"><a href="#_2-3-1-16进制" class="header-anchor">#</a> 2.3.1 16进制</h4> <div class="language-text line-numbers-mode"><pre class="language-text"><code>cafe babe 0000 0034 003f 0a00 0a00 2b08
002c 0900 0d00 2d06 4059 0000 0000 0000
0900 0d00 2e09 002f 0030 0800 310a 0032
0033 0700 340a 000d 0035 0900 0d00 3607
0037 0100 046e 616d 6501 0012 4c6a 6176
612f 6c61 6e67 2f53 7472 696e 673b 0100
0361 6765 0100 0149 0100 0673 616c 6172
7901 0001 4401 000d 436f 6e73 7461 6e74
......
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_2-3-2-class文件结构"><a href="#_2-3-2-class文件结构" class="header-anchor">#</a> 2.3.2 class文件结构</h4> <blockquote><p>官网 ： https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">ClassFile</span> <span class="token punctuation">{</span>
  u4 magic<span class="token punctuation">;</span>
  u2 minor_version<span class="token punctuation">;</span>
  u2 major_version<span class="token punctuation">;</span>
  u2 constant_pool_count<span class="token punctuation">;</span>
  cp_info constant_pool<span class="token punctuation">[</span>constant_pool_count<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  u2 access_flags<span class="token punctuation">;</span>
  u2 this_class<span class="token punctuation">;</span>
  u2 super_class<span class="token punctuation">;</span>
  u2 interfaces_count<span class="token punctuation">;</span>
  u2 interfaces<span class="token punctuation">[</span>interfaces_count<span class="token punctuation">]</span><span class="token punctuation">;</span>
  u2 fields_count<span class="token punctuation">;</span>
  field_info fields<span class="token punctuation">[</span>fields_count<span class="token punctuation">]</span><span class="token punctuation">;</span>
  u2 methods_count<span class="token punctuation">;</span>
  method_info methods<span class="token punctuation">[</span>methods_count<span class="token punctuation">]</span><span class="token punctuation">;</span>
  u2 attributes_count<span class="token punctuation">;</span>
  attribute_info attributes<span class="token punctuation">[</span>attributes_count<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_2-3-3-simple-analysis"><a href="#_2-3-3-simple-analysis" class="header-anchor">#</a> 2.3.3 Simple analysis</h4> <blockquote><p>u4 :cafebabe</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>magic:The magic item supplies the magic number identifying the class file format 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>u2+u2:0000+0034，34等于10进制的52，表示JDK8</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>minor_version
major_version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>u2:003f=63(10进制)</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>constant_pool_count:
The value of the constant_pool_count item is equal to the number of entries
in the constant_pool table plus one.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>表示常量池中的数量是62</p> <p>cp_info constant_pool[constant_pool_count-1]</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>The constant_pool is a table of structures representing various string
constants, class and interface names, field names, and other constants that
are referred to within the ClassFile structure and its substructures. The
format of each constant_pool table entry is indicated by its first &quot;tag&quot;
byte.
The constant_pool table is indexed from 1 to constant_pool_count - 1.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>常量池主要存储两方面内容：字面量(Literal)和符号引用(Symbolic References)</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>字面量:文本字符串，final修饰等
符号引用：类和接口的全限定名、字段名称和描述符、方法名称和描述符
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_2-3-4-javap验证"><a href="#_2-3-4-javap验证" class="header-anchor">#</a> 2.3.4 javap验证</h4> <blockquote><p>JDK自带的命令</p> <p>javap -h</p> <p>可以验证一下上述Classfile Structure前面几块内容的正确性</p></blockquote> <blockquote><p>javap -v -p Person.class 进行反编译，查看字节码信息和指令等信息</p></blockquote> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.6i5m9tc9xtg0.webp"> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.21kp5askybuo.webp"> <h2 id="_3-类文件到虚拟机-类加载机制"><a href="#_3-类文件到虚拟机-类加载机制" class="header-anchor">#</a> 3. 类文件到虚拟机(类加载机制)</h2> <blockquote><p>所谓类加载机制就是</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>虚拟机把Class文件加载到内存
并对数据进行校验，转换解析和初始化
形成可以虚拟机直接使用的Java类型，即java.lang.Class
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.4kdeovftooa0.webp"> <h3 id="_3-1-装载-load"><a href="#_3-1-装载-load" class="header-anchor">#</a> 3.1 装载(Load)</h3> <blockquote><p>查找和导入class文件</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>（1）通过一个类的全限定名获取定义此类的二进制字节流
（2）将这个字节流所代表的静态存储结构转化为方法区的运行时数据结构
（3）在Java堆中生成一个代表这个类的java.lang.Class对象，作为对方法区中这些数据的访问入口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-text line-numbers-mode"><pre class="language-text"><code>Class对象封装了类在方法区内的数据结构，并且向Java程序员提供了访问方法区内的数据结构的接口。在
Java堆中生成一个代表这个类的java.lang.Class对象，作为对方法区中这些数据的访问入口
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.4y1tr89xuv80.webp"> <h3 id="_3-2-链接-link"><a href="#_3-2-链接-link" class="header-anchor">#</a> 3.2 链接(Link)</h3> <h4 id="_3-2-1-验证-verify"><a href="#_3-2-1-验证-verify" class="header-anchor">#</a> 3.2.1 验证(Verify)</h4> <blockquote><p>保证被加载类的正确性</p> <ul><li>文件格式验证</li> <li>元数据验证</li> <li>字节码验证</li> <li>符号引用验证</li></ul></blockquote> <h4 id="_3-2-2-准备-prepare"><a href="#_3-2-2-准备-prepare" class="header-anchor">#</a> 3.2.2 准备(Prepare)</h4> <blockquote><p>为类的静态变量分配内存，并将其初始化为默认值</p></blockquote> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.396lwrmimfq0.webp"> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo1</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 正常打印出0，因为静态变量i在准备阶段会有默认值0</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo2</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 编译通不过，因为局部变量没有赋值不能被使用</span>
        <span class="token keyword">int</span> i<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-2-3-解析-resolve"><a href="#_3-2-3-解析-resolve" class="header-anchor">#</a> 3.2.3 解析(Resolve)</h4> <blockquote><p>把类中的符号引用转换为直接引用</p> <p>符号引用就是一组符号来描述目标，可以是任何字面量。</p> <p>直接引用就是直接指向目标的指针、相对偏移量或一个间接定位到目标的句柄</p></blockquote> <div class="language-text line-numbers-mode"><pre class="language-text"><code>解析阶段是虚拟机将常量池内的符号引用替换为直接引用的过程。
解析动作主要针对类或接口、字段、类方法、接口方法、方法类型、方法句柄和调用限定符7类符号引用进
行。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3-3-初始化-initialize"><a href="#_3-3-初始化-initialize" class="header-anchor">#</a> 3.3 初始化(Initialize)</h3> <blockquote><p>对类的静态变量，静态代码块执行初始化操作</p></blockquote> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.5rf18tc2y2k0.webp"> <h3 id="_3-4-类加载器classloader"><a href="#_3-4-类加载器classloader" class="header-anchor">#</a> 3.4 类加载器ClassLoader</h3> <blockquote><p>在装载(Load)阶段，其中第(1)步:通过类的全限定名获取其定义的二进制字节流，需要借助类装载
器完成，顾名思义，就是用来装载Class文件的。</p></blockquote> <h4 id="_3-4-1-分类"><a href="#_3-4-1-分类" class="header-anchor">#</a> 3.4.1 分类</h4> <blockquote><p>1） Bootstrap ClassLoader 负责加载$JAVA_HOME中 jre/lib/rt.jar 里所有的class或
Xbootclassoath选项指定的jar包。由C++实现，不是ClassLoader子类。</p> <p>2） Extension ClassLoader 负责加载java平台中扩展功能的一些jar包，包括$JAVA_HOME中
jre/lib/*.jar 或 -Djava.ext.dirs指定目录下的jar包。</p> <p>3） App ClassLoader 负责加载classpath中指定的jar包及 Djava.class.path 所指定目录下的类和
jar包。</p> <p>4） Custom ClassLoader 通过java.lang.ClassLoader的子类自定义加载class，属于应用程序根据自
身需要自定义的ClassLoader，如tomcat、jboss都会根据j2ee规范自行实现ClassLoader。</p></blockquote> <h4 id="_3-4-2-图解"><a href="#_3-4-2-图解" class="header-anchor">#</a> 3.4.2 图解</h4> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.4cg5ol61h7a0.webp"> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo3</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// App ClassLoader</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Ext ClassLoader</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span>
                <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Bootstrap ClassLoader</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span>
                <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-text line-numbers-mode"><pre class="language-text"><code>sun.misc.Launcher$AppClassLoader@18b4aac2
sun.misc.Launcher$ExtClassLoader@3a71f4dd
null
null
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_3-4-3-加载原则-双亲委派"><a href="#_3-4-3-加载原则-双亲委派" class="header-anchor">#</a> 3.4.3 加载原则[双亲委派]</h4> <p>（1）检查某个类是否已经加载
自底向上，从Custom ClassLoader到BootStrap ClassLoader逐层检查，只要某个Classloader已加载，
就视为已加载此类，保证此类只所有ClassLoader加载一次。</p> <p>（2）加载的顺序
自顶向下，也就是由上层来逐层尝试加载此类。</p> <img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.1zaz1jflcun4.webp"> <h4 id="_3-4-4-破坏双亲委派"><a href="#_3-4-4-破坏双亲委派" class="header-anchor">#</a> 3.4.4 破坏双亲委派</h4> <p>（1）tomcat
<img src="https://jsd.cdn.zzko.cn/gh/Jia-Hongwei/picx-images-hosting@master/image.idedsstwozk.webp"></p> <p>（2）SPI机制
（3）OSGi</p></div></div>  <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/07/12, 09:24:15</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/57742c/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">常见数据结构</div></a> <a href="/pages/61ff74/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">02-JVM内存模型</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/57742c/" class="prev">常见数据结构</a></span> <span class="next"><a href="/pages/61ff74/">02-JVM内存模型</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e61b07/"><div>
            mysql专题-事务
            <!----></div></a> <span class="date">07-24</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/950da2/"><div>
            mysql专题-索引
            <!----></div></a> <span class="date">07-16</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/7bdde3/"><div>
            Java基础面试题(上)
            <!----></div></a> <span class="date">07-15</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1095514902@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Jia-Hongwei" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2019-2024
    <span>JIA | <a href="https://github.com/Jia-Hongwei/vuepress-theme-vdoing/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4b498b51.js" defer></script><script src="/assets/js/2.2752654e.js" defer></script><script src="/assets/js/24.8d972b48.js" defer></script>
  </body>
</html>
